# 🪟 Sliding Window 终极总结（LeetCode 面试版）

> 目标：
> - 一眼判断是否该用滑动窗口
> - 明确窗口里该维护什么
> - 稳定写对 90% 的滑动窗口面试题

---

## 一、什么时候该用滑动窗口？（判断口诀）

### ✅ 必须同时满足的条件
- **连续**（子数组 / 子串）
- **有明确的窗口合法条件**
- **求最值**（最长 / 最短）

### 🔥 一眼判断口诀
> **连续 + 条件约束 + 最值 ⇒ 滑动窗口**

---

## 二、滑动窗口的本质模型

滑动窗口不是技巧，而是一个 **双指针不回头的贪心模型**。

### 核心不变量
- 窗口始终表示一个 **连续区间**
- `right` 只负责 **扩张**
- `left` 只负责 **收缩**
- 每个元素 **最多进一次、出一次 → O(n)**

---

## 三、统一思维模板（不是代码）

```text
for 右指针 right:
    把 right 加入窗口

    while 窗口非法 / 或 为了更优:
        从左边移出元素（left++）

    在合适时机更新答案
```

> ❗ 重点不是 for / while  
> ❗ 重点是：**指针是否回头**

---

## 四、三大核心滑动窗口模型

### 🟢 模型 1：数值型窗口（最短 / 最长）
- 代表题：209. 长度最小的子数组
- 特征：全正数，sum 单调
- 关键点：合法就缩（while）

### 🟡 模型 2：条件型窗口（≤K 个约束）
- 代表题：904. 水果成篮、1004. 最大连续 1
- 特征：限制“坏元素”数量
- 关键点：非法才缩（while）

### 🔴 模型 3：频次型窗口（最短覆盖）
- 代表题：76. 最小覆盖子串
- 特征：字符可重复，频次必须满足
- 核心：need / window / valid
- 合法条件：`valid == len(need)`

---

## 五、最容易犯的 5 个错误
1. 用 `if` 代替 `while`
2. 在非法窗口里更新答案
3. left 移动顺序错误
4. 把种类数当成频次满足
5. 指针回头导致复杂度爆炸

---

## 六、刷题毕业路线
- 入门：209
- 条件窗口：904、1004
- 天花板：76

---

## 七、面试 30 秒总结模板

> 这是一个连续区间最值问题，我使用滑动窗口。  
> 右指针枚举所有可能，左指针在满足条件时收缩保证最优。  
> 窗口内维护的核心状态是 XXX，每个元素最多进出一次，时间复杂度 O(n)。

---

## 八、是否毕业？

如果你能独立完成 209 / 904 / 1004 / 76：  
👉 **滑动窗口算法正式毕业**
